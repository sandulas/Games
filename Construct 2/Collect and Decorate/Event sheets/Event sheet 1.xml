<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable constant="0" name="InputTypeTilt" sid="9781080764917053" static="0" type="number">0</variable>
        <variable constant="0" name="InputTypeTouch" sid="4130087384966601" static="0" type="number">1</variable>
        <variable constant="0" name="debug_line1" sid="4177495052590903" static="0" type="text">-</variable>
        <variable constant="0" name="debug_line2" sid="8516279301245715" static="0" type="text">-</variable>
        <variable constant="0" name="debug_line3" sid="7484838944284516" static="0" type="text">-</variable>
        <variable constant="0" name="debug_line4" sid="2329770658484356" static="0" type="text">-</variable>
        <variable constant="0" name="debug_line5" sid="1517399540468326" static="0" type="text">-</variable>
        <event-group collapsed="1" description="" sid="4017667352759457" title="debugging">
            <sub-events>
                <event-block sid="8578860188414138">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="8454074773443701" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="2096030895599525" type="System">
                            <param id="0" name="Variable">debug_line1</param>
                            <param id="1" name="Value">&quot;fps:&quot; &amp; fps</param>
                        </action>
                        <action id="-9" name="Set value" sid="8857837955004008" type="System">
                            <param id="0" name="Variable">debug_line2</param>
                            <param id="1" name="Value">&quot;Gyro: &quot; &amp; round(Touch.Alpha) &amp; &quot;, &quot; &amp; round(Touch.Beta) &amp; &quot;, &quot; &amp; round(Touch.Gamma)</param>
                        </action>
                        <action id="-9" name="Set value" sid="800556600795071" type="System">
                            <param id="0" name="Variable">debug_line3</param>
                            <param id="1" name="Value">&quot;window size:&quot; &amp; WindowWidth &amp; &quot;:&quot; &amp; WindowHeight</param>
                        </action>
                        <action id="-9" name="Set value" sid="4296299342373679" type="System">
                            <param id="0" name="Variable">debug_line4</param>
                            <param id="1" name="Value">&quot;basket: &quot; &amp; round(BasketBack.X) &amp; &quot;:&quot; &amp; round(BasketBack.Y) &amp; &quot; | &quot; &amp; BasketBack.Width &amp; &quot;:&quot; &amp; BasketBack.Height</param>
                        </action>
                        <action id="-9" name="Set value" sid="3297859086027639" type="System">
                            <param id="0" name="Variable">debug_line5</param>
                            <param id="1" name="Value">&quot;basket: &quot; &amp; round(BasketBack.BBoxLeft) &amp; &quot;:&quot; &amp; round(BasketBack.BBoxRight)</param>
                        </action>
                        <action disabled="1" id="-9" name="Set value" sid="1107931903011661" type="System">
                            <param id="0" name="Variable">debug_line5</param>
                            <param id="1" name="Value">&quot;viewport:&quot; &amp; round(ViewportLeft(0)) &amp; &quot;:&quot; &amp; round(ViewportRight(0)) &amp; &quot; | &quot; &amp; round(ViewportTop(0)) &amp; &quot;:&quot; &amp; round(ViewportBottom(0))</param>
                        </action>
                        <action id="0" name="Set text" sid="975897938275178" type="TextDebug">
                            <param id="0" name="Text">debug_line1 &amp; newline &amp; debug_line2 &amp; newline &amp; debug_line3 &amp; newline &amp; debug_line4 &amp; newline &amp; debug_line5</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1734356595303205">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="1079724658054013" type="Flower02" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="917716086724838" type="System">
                            <param id="0" name="Variable">debug_line4</param>
                            <param id="1" name="Value">&quot;flower02 on-screen: false&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4111375704217271">
                    <conditions>
                        <condition id="-3" name="Is on-screen" sid="5172961699325863" type="Flower02" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="3248116834916881" type="System">
                            <param id="0" name="Variable">debug_line4</param>
                            <param id="1" name="Value">&quot;flower02 on-screen: true&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="" sid="9240795401389315" title="basket placement and movement">
            <sub-events>
                <comment>position and pin basket elements</comment>
                <event-block sid="8023288898181642">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="6225811202792062" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="935299432283096" type="BasketFront">
                            <param id="0" name="X">BasketBack.X</param>
                            <param id="1" name="Y">BasketBack.Y+15</param>
                        </action>
                        <action id="-3" name="Set position" sid="4320723124678836" type="BasketMask">
                            <param id="0" name="X">BasketBack.X</param>
                            <param id="1" name="Y">BasketBack.Y+49</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="2689398981424035" type="BasketMask">
                            <param id="0" name="Pin to">BasketBack</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="1008709515142683" type="BasketFront">
                            <param id="0" name="Pin to">BasketBack</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>keep the basket inside the window</comment>
                <event-block sid="6531316476311438">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="3158115176450289" type="System">
                            <param id="0" name="First value">BasketBack.X-BasketBack.Width / 2</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Second value">ViewportLeft(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="0" name="Stop" sid="8029129041516428" type="BasketBack" />
                        <action id="-1" name="Set X" sid="1176295551842544" type="BasketBack">
                            <param id="0" name="X">BasketBack.Width/2+ViewportLeft(0)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3865885505750034">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="8868250450613364" type="System">
                            <param id="0" name="First value">BasketBack.X+BasketBack.Width / 2</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">LayoutWidth-ViewportLeft(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="0" name="Stop" sid="8632496894258867" type="BasketBack" />
                        <action id="-1" name="Set X" sid="2986964478245306" type="BasketBack">
                            <param id="0" name="X">LayoutWidth-BasketBack.Width/2-ViewportLeft(0)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4010879040228096">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="9246021615785605" type="System">
                            <param id="0" name="First value">ViewportBottom(0)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Set Y" sid="9023474223943996" type="BasketBack">
                            <param id="0" name="Y">720 - ViewportTop(0)</param>
                        </action>
                    </actions>
                </event-block>
                <comment>move the basket</comment>
                <event-block sid="9769061595512004">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="6324581820548689" type="System">
                            <param id="0" name="First value">Function.Call(&quot;GetInputType&quot;)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">InputTypeTouch</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="3246067630107777" type="System">
                            <param id="0" name="First value">Touch.TouchCount</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="8120667341452398">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="1370725383009671" type="System">
                                    <param id="0" name="First value">Touch.X</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">round(LayoutWidth / 2)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="4405914045238273" type="BasketBack">
                                    <param id="0" name="Control">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6674399430058913">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="1198860571415538" type="System">
                                    <param id="0" name="First value">Touch.X</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">round(LayoutWidth / 2)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="4540647321377277" type="BasketBack">
                                    <param id="0" name="Control">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="3754265014540669">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="7242856083128575" type="System">
                            <param id="0" name="First value">Function.Call(&quot;GetInputType&quot;)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">InputTypeTilt</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="2683501580625759">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="1253450333172046" type="System">
                                    <param id="0" name="First value">(Touch.Beta &gt; 0 &amp; Touch.Gamma &lt; 0) | (Touch.Beta &lt; 0 &amp; Touch.Gamma &gt; 0)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="5" name="Set acceleration" sid="6567956466330917" type="BasketBack">
                                    <param id="0" name="Acceleration">abs(Touch.Beta)*40</param>
                                </action>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="4144867030145711" type="BasketBack">
                                    <param id="0" name="Control">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8653998282293217">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="4809351163284056" type="System">
                                    <param id="0" name="First value">(Touch.Beta &lt; 0 &amp; Touch.Gamma &lt; 0) | (Touch.Beta &gt; 0 &amp; Touch.Gamma &gt; 0)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="5" name="Set acceleration" sid="6346934041264692" type="BasketBack">
                                    <param id="0" name="Acceleration">abs(Touch.Beta)*40</param>
                                </action>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="3517716960796115" type="BasketBack">
                                    <param id="0" name="Control">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block disabled="1" sid="8961299935954087">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="7181362146604866" type="System">
                                    <param id="0" name="First value">Touch.Beta</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="5" name="Set acceleration" sid="9051781317086118" type="BasketBack">
                                    <param id="0" name="Acceleration">abs(Touch.Beta)*40</param>
                                </action>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="4294155585198879" type="BasketBack">
                                    <param id="0" name="Control">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="" sid="8512833754096424" title="user interface">
            <sub-events>
                <comment>input type</comment>
                <event-block sid="8420755731706846">
                    <conditions>
                        <condition id="-25" name="On loader layout complete" sid="7107420640686744" type="System" />
                        <condition id="-8" name="Compare two values" sid="8065505712611534" type="System">
                            <param id="0" name="First value">Touch.Alpha</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="783446917001843" type="System">
                            <param id="0" name="First value">Touch.Beta</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="8654649248254451" type="System">
                            <param id="0" name="First value">Touch.Gamma</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="8061172013427099" type="Function">
                            <param id="0" name="Name">&quot;SetInputType&quot;</param>
                            <param id="1" name="Parameter {n}">InputTypeTouch</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="243061426647839">
                    <conditions>
                        <condition id="3" name="On touched object" sid="1608985526189473" type="Touch">
                            <param id="0" name="Object">ButtonTiltTouch</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="7545523917970667" type="Function">
                            <param id="0" name="Name">&quot;ToggleInputType&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7256211391557764">
                    <conditions>
                        <condition id="0" name="On function" sid="238816686311618" type="Function">
                            <param id="0" name="Name">&quot;SetInputType&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="5" name="Set frame" sid="9136234448014967" type="ButtonTiltTouch">
                            <param id="0" name="Frame number">Function.Param(0)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="2321325818835405">
                            <conditions>
                                <condition id="1" name="Compare parameter" sid="2931860607427883" type="Function">
                                    <param id="0" name="Index">0</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">InputTypeTouch</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="5" name="Set acceleration" sid="5649772451227905" type="BasketBack">
                                    <param id="0" name="Acceleration">800</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="2220659859650412">
                    <conditions>
                        <condition id="0" name="On function" sid="6910066173111019" type="Function">
                            <param id="0" name="Name">&quot;GetInputType&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="1" name="Set return value" sid="4385544508535959" type="Function">
                            <param id="0" name="Value">ButtonTiltTouch.AnimationFrame</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4960411790997027">
                    <conditions>
                        <condition id="0" name="On function" sid="9397254506568765" type="Function">
                            <param id="0" name="Name">&quot;ToggleInputType&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="142809901467022" type="Function">
                            <param id="0" name="Name">&quot;GetInputType&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="2807133093565939">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="6195442754839716" type="System">
                                    <param id="0" name="First value">Function.ReturnValue</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">InputTypeTilt</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="3906403026366426" type="Function">
                                    <param id="0" name="Name">&quot;SetInputType&quot;</param>
                                    <param id="1" name="Parameter {n}">InputTypeTouch</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5347637442648493">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5929929728912626" type="System">
                                    <param id="0" name="First value">Function.ReturnValue</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">InputTypeTouch</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="1096072065796701" type="Function">
                                    <param id="0" name="Name">&quot;SetInputType&quot;</param>
                                    <param id="1" name="Parameter {n}">InputTypeTilt</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="9190612382300273" title="catch flowers">
            <sub-events>
                <event-block sid="7056574856834537">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="4666037920785692" type="Flower02">
                            <param id="0" name="Object">BasketFront</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="4004795742031727">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="1270124808595633" type="System">
                                    <param id="0" name="First value">(Flower02.BBoxLeft &gt; BasketFront.BBoxLeft) &amp; (Flower02.BBoxRight &lt; BasketFront.BBoxRight)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Pin" id="0" name="Pin to object" sid="6831207648889741" type="Flower02">
                                    <param id="0" name="Pin to">BasketBack</param>
                                    <param id="1" name="Mode">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8779905517609488">
                            <conditions>
                                <condition id="-22" name="Else" sid="8824408068386243" type="System" />
                            </conditions>
                            <actions>
                                <action id="-26" name="Move to layer" sid="509913092048743" type="Flower02">
                                    <param id="0" name="Layer">&quot;foreground&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <comment>daca floarea face collision, dar nu o prinzi in cos si este o alta floare peste ea, prima floare se muta deasupra celei de-a doua si e un efect de flicker urat; cand se genereaza florile, trebuie calculat z-index-ul in functie de ordinea in care ajung florile jos; cele care ajung primele trebuie sa fie deasupra</comment>
    </events>
</c2eventsheet>
