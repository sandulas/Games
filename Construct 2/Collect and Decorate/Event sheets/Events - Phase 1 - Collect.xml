<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Events - Phase 1 - Collect</name>
    <events>
        <include>Events - Common</include>
        <event-group description="" sid="5274649052821304" title="LAYOUT ROOT">
            <sub-events>
                <variable constant="0" name="Input_Tilt" sid="9781080764917053" static="1" type="number">0</variable>
                <variable constant="0" name="Input_Touch" sid="4130087384966601" static="1" type="number">1</variable>
                <variable constant="0" name="Game_SpawnInterval" sid="9815157490617659" static="1" type="number">3</variable>
                <variable constant="0" name="PieceCount" sid="872156277482604" static="1" type="number">0</variable>
                <variable constant="0" name="Progress" sid="3371309856334641" static="1" type="number">0</variable>
                <variable constant="0" name="SpawnCount" sid="8643518233199155" static="1" type="number">0</variable>
                <variable constant="0" name="FlowerCollisionRadius_Original" sid="5359704912641046" static="1" type="text">88, 91, 87, 101, 90</variable>
                <variable constant="0" name="FlowerCollisionRadius" sid="3034781859225299" static="1" type="text">103, 100, 104, 122, 105</variable>
                <event-group collapsed="1" description="" sid="4977919394299346" title="debugging">
                    <sub-events>
                        <event-block disabled="1" sid="723856547017191">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="5920617386203848" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="1275412182836994" type="System">
                                    <param id="0" name="Variable">debug_line2</param>
                                    <param id="1" name="Value">&quot;gyro: &quot; &amp; round(Touch.Alpha) &amp; &quot;, &quot; &amp; round(Touch.Beta) &amp; &quot;, &quot; &amp; round(Touch.Gamma)</param>
                                </action>
                                <action id="-9" name="Set value" sid="7118602726888872" type="System">
                                    <param id="0" name="Variable">debug_line3</param>
                                    <param id="1" name="Value">&quot;window size:&quot; &amp; WindowWidth &amp; &quot;:&quot; &amp; WindowHeight</param>
                                </action>
                                <action id="-9" name="Set value" sid="4491977584666217" type="System">
                                    <param id="0" name="Variable">debug_line4</param>
                                    <param id="1" name="Value">&quot;viewport (l:r | t:b): &quot; &amp; round(ViewportLeft(0)) &amp; &quot;:&quot; &amp; round(ViewportRight(0)) &amp; &quot; | &quot; &amp; round(ViewportTop(0)) &amp; &quot;:&quot; &amp; round(ViewportBottom(0))</param>
                                </action>
                                <action id="-9" name="Set value" sid="1433623885856547" type="System">
                                    <param id="0" name="Variable">debug_line5</param>
                                    <param id="1" name="Value">&quot;basket box (l:r): &quot; &amp; round(BasketBack.BBoxLeft) &amp; &quot;:&quot; &amp; round(BasketBack.BBoxRight)</param>
                                </action>
                                <action disabled="1" id="-9" name="Set value" sid="4055896566178686" type="System">
                                    <param id="0" name="Variable">debug_line4</param>
                                    <param id="1" name="Value">&quot;basket: &quot; &amp; round(BasketBack.X) &amp; &quot;:&quot; &amp; round(BasketBack.Y) &amp; &quot; | &quot; &amp; BasketBack.Width &amp; &quot;:&quot; &amp; BasketBack.Height</param>
                                </action>
                                <action disabled="1" id="-9" name="Set value" sid="2040960784665012" type="System">
                                    <param id="0" name="Variable">debug_line5</param>
                                    <param id="1" name="Value">&quot;touch (x:y): &quot; &amp; round(Touch.X) &amp; &quot;:&quot; &amp; round(Touch.Y)</param>
                                </action>
                                <action disabled="1" id="-9" name="Set value" sid="6066613278141078" type="System">
                                    <param id="0" name="Variable">debug_line4</param>
                                    <param id="1" name="Value">&quot;flower02 on-screen: false&quot;</param>
                                </action>
                                <action disabled="1" id="-9" name="Set value" sid="3381689363005877" type="System">
                                    <param id="0" name="Variable">debug_line4</param>
                                    <param id="1" name="Value">&quot;flower02 on-screen: true&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="9240795401389315" title="basket placement and movement">
                    <sub-events>
                        <comment>position and pin basket elements</comment>
                        <event-block sid="8023288898181642">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="6225811202792062" type="System" />
                            </conditions>
                            <actions>
                                <action id="-3" name="Set position" sid="935299432283096" type="BasketFront">
                                    <param id="0" name="X">BasketBack.X</param>
                                    <param id="1" name="Y">BasketBack.Y+15</param>
                                </action>
                                <action id="-3" name="Set position" sid="4320723124678836" type="BasketMask">
                                    <param id="0" name="X">BasketBack.X</param>
                                    <param id="1" name="Y">BasketBack.Y+49</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="2689398981424035" type="BasketMask">
                                    <param id="0" name="Pin to">BasketBack</param>
                                    <param id="1" name="Mode">0</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="1008709515142683" type="BasketFront">
                                    <param id="0" name="Pin to">BasketBack</param>
                                    <param id="1" name="Mode">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>keep the basket inside the window</comment>
                        <event-block sid="6531316476311438">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="3158115176450289" type="System">
                                    <param id="0" name="First value">BasketBack.BBoxLeft</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">ViewportLeft(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="0" name="Stop" sid="8029129041516428" type="BasketBack" />
                                <action id="-1" name="Set X" sid="1176295551842544" type="BasketBack">
                                    <param id="0" name="X">BasketBack.Width/2+ViewportLeft(0)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3865885505750034">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="8868250450613364" type="System">
                                    <param id="0" name="First value">BasketBack.BBoxRight</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">ViewportRight(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="0" name="Stop" sid="8632496894258867" type="BasketBack" />
                                <action id="-1" name="Set X" sid="2986964478245306" type="BasketBack">
                                    <param id="0" name="X">ViewportRight(0)-BasketBack.Width/2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4010879040228096">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="9246021615785605" type="System">
                                    <param id="0" name="First value">ViewportTop(0)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-2" name="Set Y" sid="9023474223943996" type="BasketBack">
                                    <param id="0" name="Y">720 - ViewportTop(0)</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>move the basket</comment>
                        <event-block sid="9769061595512004">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="6324581820548689" type="System">
                                    <param id="0" name="First value">Function.Call(&quot;GetInputType&quot;)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">Input_Touch</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="3246067630107777" type="System">
                                    <param id="0" name="First value">Touch.TouchCount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="8120667341452398">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="1370725383009671" type="System">
                                            <param id="0" name="First value">Touch.X</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">round(LayoutWidth / 2)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="4405914045238273" type="BasketBack">
                                            <param id="0" name="Control">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="6674399430058913">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="1198860571415538" type="System">
                                            <param id="0" name="First value">Touch.X</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">round(LayoutWidth / 2)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="4540647321377277" type="BasketBack">
                                            <param id="0" name="Control">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="3754265014540669">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="7242856083128575" type="System">
                                    <param id="0" name="First value">Function.Call(&quot;GetInputType&quot;)</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">Input_Tilt</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="2683501580625759">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="1253450333172046" type="System">
                                            <param id="0" name="First value">(Touch.Beta &gt; 0 &amp; Touch.Gamma &lt; 0) | (Touch.Beta &lt; 0 &amp; Touch.Gamma &gt; 0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="5" name="Set acceleration" sid="6567956466330917" type="BasketBack">
                                            <param id="0" name="Acceleration">abs(Touch.Beta)*40</param>
                                        </action>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="4144867030145711" type="BasketBack">
                                            <param id="0" name="Control">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="8653998282293217">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="4809351163284056" type="System">
                                            <param id="0" name="First value">(Touch.Beta &lt; 0 &amp; Touch.Gamma &lt; 0) | (Touch.Beta &gt; 0 &amp; Touch.Gamma &gt; 0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="5" name="Set acceleration" sid="6346934041264692" type="BasketBack">
                                            <param id="0" name="Acceleration">abs(Touch.Beta)*40</param>
                                        </action>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="3517716960796115" type="BasketBack">
                                            <param id="0" name="Control">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="8512833754096424" title="user interface">
                    <sub-events>
                        <event-group collapsed="1" description="" sid="8623328556251148" title="progress bar">
                            <sub-events>
                                <event-block sid="2339838633296741">
                                    <conditions>
                                        <condition id="-2" name="On start of layout" sid="4203210953520856" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="9458368871661653" type="System">
                                            <param id="0" name="Variable">PieceCount</param>
                                            <param id="1" name="Value">Function.Call(&quot;NecklacePieceCount&quot;, Level, SaveSlot)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="1252796638470954" type="System">
                                            <param id="0" name="Variable">Progress</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="9522580145069878">
                                    <conditions>
                                        <condition id="-2" name="On start of layout" sid="1318327062330494" type="System" />
                                        <condition id="-10" name="For" sid="2850077069130605" type="System">
                                            <param id="0" name="Name">&quot;i&quot;</param>
                                            <param id="1" name="Start index">1</param>
                                            <param id="2" name="End index">PieceCount</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="9718947948277284" type="System">
                                            <param id="0" name="Object to create">GenericFlower</param>
                                            <param id="1" name="Layer">3</param>
                                            <param id="2" name="X">Function.Call(&quot;ProgressBarX&quot;, loopindex, PieceCount)</param>
                                            <param id="3" name="Y">ViewportTop(0) + 40</param>
                                        </action>
                                        <action id="9" name="Set scale" sid="1495663650453957" type="GenericFlower">
                                            <param id="0" name="Scale">0.9</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="1519439408513878">
                                    <conditions>
                                        <condition id="0" name="On function" sid="2470901304504277" type="Function">
                                            <param id="0" name="Name">&quot;ProgressBarX&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <variable constant="0" name="x" sid="6053436270797426" static="0" type="number">0</variable>
                                        <variable constant="0" name="FlowerDistance" sid="6434088893526085" static="0" type="number">55</variable>
                                        <variable constant="0" name="GroupDistance" sid="1350609491226985" static="0" type="number">50</variable>
                                        <event-block sid="897232515243576">
                                            <conditions />
                                            <actions>
                                                <action id="-9" name="Set value" sid="5774543447048112" type="System">
                                                    <param id="0" name="Variable">x</param>
                                                    <param id="1" name="Value">ViewportLeft(0) + (ViewportRight(0) - ViewportLeft(0)) / 2 - (Function.Param(1) * FlowerDistance + 2 * GroupDistance) / 2 - FlowerDistance / 2 + 45</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="9254111225496525" type="System">
                                                    <param id="0" name="Variable">x</param>
                                                    <param id="1" name="Value">x + Function.Param(0) * FlowerDistance</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="6656219127202829">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="6928245808658682" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Second value">round(Function.Param(1) / 3)</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="8609949921359411" type="System">
                                                    <param id="0" name="Variable">x</param>
                                                    <param id="1" name="Value">x + GroupDistance</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="989808129086321">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="1340816365864191" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Second value">round(Function.Param(1) / 1.5)</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="2179208738971325" type="System">
                                                    <param id="0" name="Variable">x</param>
                                                    <param id="1" name="Value">x + GroupDistance</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="2113529014212568">
                                            <conditions />
                                            <actions>
                                                <action id="1" name="Set return value" sid="8995441617476503" type="Function">
                                                    <param id="0" name="Value">x</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group collapsed="1" description="" sid="5988832354479198" title="input type">
                            <sub-events>
                                <event-block sid="8420755731706846">
                                    <conditions>
                                        <condition id="-2" name="On start of layout" sid="7107420640686744" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="9096057658545904" type="Function">
                                            <param id="0" name="Name">&quot;SetInputType&quot;</param>
                                            <param id="1" name="Parameter {n}">Input_Touch</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block disabled="1" sid="3133302074226297">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="8065505712611534" type="System">
                                                    <param id="0" name="First value">Touch.Alpha</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                                <condition id="-8" name="Compare two values" sid="783446917001843" type="System">
                                                    <param id="0" name="First value">Touch.Beta</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                                <condition id="-8" name="Compare two values" sid="8654649248254451" type="System">
                                                    <param id="0" name="First value">Touch.Gamma</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="8061172013427099" type="Function">
                                                    <param id="0" name="Name">&quot;SetInputType&quot;</param>
                                                    <param id="1" name="Parameter {n}">Input_Touch</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block disabled="1" sid="7563565071344882">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="8776070447210566" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="3599208244230891" type="Function">
                                                    <param id="0" name="Name">&quot;SetInputType&quot;</param>
                                                    <param id="1" name="Parameter {n}">Input_Tilt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block disabled="1" sid="243061426647839">
                                    <conditions>
                                        <condition id="3" name="On touched object" sid="1608985526189473" type="Touch">
                                            <param id="0" name="Object">ButtonTiltTouch</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="7545523917970667" type="Function">
                                            <param id="0" name="Name">&quot;ToggleInputType&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="7256211391557764">
                                    <conditions>
                                        <condition id="0" name="On function" sid="238816686311618" type="Function">
                                            <param id="0" name="Name">&quot;SetInputType&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="5" name="Set frame" sid="9136234448014967" type="ButtonTiltTouch">
                                            <param id="0" name="Frame number">Function.Param(0)</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="2321325818835405">
                                            <conditions>
                                                <condition id="1" name="Compare parameter" sid="2931860607427883" type="Function">
                                                    <param id="0" name="Index">0</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">Input_Touch</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="8Direction" id="5" name="Set acceleration" sid="5649772451227905" type="BasketBack">
                                                    <param id="0" name="Acceleration">1000</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="2220659859650412">
                                    <conditions>
                                        <condition id="0" name="On function" sid="6910066173111019" type="Function">
                                            <param id="0" name="Name">&quot;GetInputType&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set return value" sid="4385544508535959" type="Function">
                                            <param id="0" name="Value">ButtonTiltTouch.AnimationFrame</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="4960411790997027">
                                    <conditions>
                                        <condition id="0" name="On function" sid="9397254506568765" type="Function">
                                            <param id="0" name="Name">&quot;ToggleInputType&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="142809901467022" type="Function">
                                            <param id="0" name="Name">&quot;GetInputType&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="2807133093565939">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="6195442754839716" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">Input_Tilt</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="3906403026366426" type="Function">
                                                    <param id="0" name="Name">&quot;SetInputType&quot;</param>
                                                    <param id="1" name="Parameter {n}">Input_Touch</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="5347637442648493">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="5929929728912626" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">Input_Touch</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="1096072065796701" type="Function">
                                                    <param id="0" name="Name">&quot;SetInputType&quot;</param>
                                                    <param id="1" name="Parameter {n}">Input_Tilt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group collapsed="1" description="" sid="8466287970512342" title="left / right hints">
                            <sub-events>
                                <event-block sid="9942995305667787">
                                    <conditions>
                                        <condition id="-2" name="On start of layout" sid="6602048172009588" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-2" name="Set Y" sid="7147468990564404" type="ArrowHint">
                                            <param id="0" name="Y">ViewportBottom(0) - 120</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="6849391771708975">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="6480997945015239" type="ArrowHint">
                                                    <param id="0" name="Instance variable">tag</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;left&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="7367622219129262" type="ArrowHint">
                                                    <param id="0" name="X">ViewportLeft(0) + 100</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="335973086773524">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="8596253586075063" type="ArrowHint">
                                                    <param id="0" name="Instance variable">tag</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;right&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="5520320891261971" type="ArrowHint">
                                                    <param id="0" name="X">ViewportRight(0) - 100</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-group>
                <event-group description="" sid="8345507727811121" title="flowers - create, catch, destroy">
                    <sub-events>
                        <comment>create and setup flowers</comment>
                        <event-block sid="1904972802140828">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="2779177928082141" type="System">
                                    <param id="0" name="Interval (seconds)">Game_SpawnInterval</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="343346525048413" type="System">
                                    <param id="0" name="Object to create">Flower</param>
                                    <param id="1" name="Layer">2</param>
                                    <param id="2" name="X">-1000</param>
                                    <param id="3" name="Y">-1000</param>
                                </action>
                                <action id="2" name="Stop" sid="9380442372010357" type="Flower" />
                                <action disabled="1" id="5" name="Set frame" sid="3683812335015272" type="Flower">
                                    <param id="0" name="Frame number">int(random(Flower.AnimationFrameCount))</param>
                                </action>
                                <action id="5" name="Set frame" sid="6565402474414719" type="Flower">
                                    <param id="0" name="Frame number">SpawnCount % Flower.AnimationFrameCount</param>
                                </action>
                                <action id="-10" name="Add to" sid="4895140679813445" type="System">
                                    <param id="0" name="Variable">SpawnCount</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-3" name="Set position" sid="4824074386778173" type="Flower">
                                    <param id="0" name="X">random(ViewportLeft(0) + Flower.Width / 2, ViewportRight(0) - Flower.Width / 2)</param>
                                    <param id="1" name="Y">ViewportTop(0) - Flower.Height / 2 - 10</param>
                                </action>
                                <action behavior="Bullet" id="5" name="Set enabled" sid="922111766686347" type="Flower">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="8570581057874184" type="Flower">
                                    <param id="0" name="Angle">90</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="8913816227936673">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="551765756875239" type="System">
                                            <param id="0" name="First value">Flower.AnimationFrame</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">FLOWER_WHITE</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="2127289242404745" type="Flower">
                                            <param id="0" name="Speed">120 + random(-20, 20)</param>
                                        </action>
                                        <action behavior="Rotate" id="0" name="Set speed" sid="7053323551678309" type="Flower">
                                            <param id="0" name="Speed">random(30, 50)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="1869355225156524">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="5452867321040712" type="System">
                                            <param id="0" name="First value">Flower.AnimationFrame</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">FLOWER_BLUE</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="8047741424218962" type="Flower">
                                            <param id="0" name="Speed">120 + random(-20, 20)</param>
                                        </action>
                                        <action id="-3" name="Set position" sid="8314163637079041" type="Flower">
                                            <param id="0" name="X">random(ViewportLeft(0) + Flower.Width / 2 + Flower.Sine.Magnitude, ViewportRight(0) - Flower.Width / 2 -  Flower.Sine.Magnitude)</param>
                                            <param id="1" name="Y">ViewportTop(0) - Flower.Height / 2 - 10</param>
                                        </action>
                                        <action behavior="Sine" id="0" name="Set active" sid="4821316435027365" type="Flower">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="7753897887663756">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="1685220233661335" type="System">
                                            <param id="0" name="First value">Flower.AnimationFrame</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">FLOWER_RED</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="449560301370079" type="Flower">
                                            <param id="0" name="Speed">150 + random(-25, 25)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="6343392967879349">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="9714397972531091" type="System">
                                            <param id="0" name="First value">Flower.AnimationFrame</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">FLOWER_GREEN</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="8042329803606255" type="Flower">
                                            <param id="0" name="Speed">80 + random(-15, 15)</param>
                                        </action>
                                        <action behavior="Sine" id="1" name="Set period" sid="8678914427310727" type="Flower">
                                            <param id="0" name="Period">5</param>
                                        </action>
                                        <action behavior="Sine" id="2" name="Set magnitude" sid="3274237979212497" type="Flower">
                                            <param id="0" name="Magnitude">150</param>
                                        </action>
                                        <action id="-3" name="Set position" sid="5304634574063526" type="Flower">
                                            <param id="0" name="X">random(ViewportLeft(0) + Flower.Width / 2 + Flower.Sine.Magnitude, ViewportRight(0) - Flower.Width / 2 -  Flower.Sine.Magnitude)</param>
                                            <param id="1" name="Y">ViewportTop(0) - Flower.Height / 2 - 10</param>
                                        </action>
                                        <action behavior="Sine" id="0" name="Set active" sid="4839953255763123" type="Flower">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Rotate" id="0" name="Set speed" sid="5568375152217585" type="Flower">
                                            <param id="0" name="Speed">random(20, 30)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="747639084605494">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="2718857836000562" type="System">
                                            <param id="0" name="First value">Flower.AnimationFrame</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">FLOWER_PINK</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="4369634592661298" type="Flower">
                                            <param id="0" name="Speed">150 + random(-25, 25)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>catch flowers</comment>
                        <event-block collapsed="1" sid="6567737682065136">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="3142564128756325" type="Flower">
                                    <param id="0" name="Object">BasketFront</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="6826530799425285" type="System">
                                    <param id="0" name="First value">Progress</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">PieceCount</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <comment>if flower is catched, save it in an unused slot of the necklaces array (level 0, slot 8)</comment>
                                <event-block sid="6949403889612219">
                                    <conditions>
                                        <condition disabled="1" id="-8" name="Compare two values" sid="7254878276007077" type="System">
                                            <param id="0" name="First value">(Flower.BBoxLeft &gt; BasketFront.BBoxLeft) &amp; (Flower.BBoxRight &lt; BasketFront.BBoxRight)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">1</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="3948555271469227" type="System">
                                            <param id="0" name="First value">(Flower.X - int(tokenat(FlowerCollisionRadius, Flower.AnimationFrame,&quot;,&quot;)) &gt; BasketFront.BBoxLeft) &amp; (Flower.X + int(tokenat(FlowerCollisionRadius, Flower.AnimationFrame,&quot;,&quot;)) &lt; BasketFront.BBoxRight)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-26" name="Move to layer" sid="4686169454104679" type="Flower">
                                            <param id="0" name="Layer">&quot;action&quot;</param>
                                        </action>
                                        <action id="-29" name="Move to object" sid="1686641081887957" type="Flower">
                                            <param id="0" name="Where">1</param>
                                            <param id="1" name="Object">BasketMask</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="9702160915224836" type="Flower">
                                            <param id="0" name="Y">Flower.Y+Flower.Height / 2 + 20 - random(40)</param>
                                        </action>
                                        <action behavior="Pin" id="0" name="Pin to object" sid="6376125181635972" type="Flower">
                                            <param id="0" name="Pin to">BasketBack</param>
                                            <param id="1" name="Mode">0</param>
                                        </action>
                                        <action behavior="Rotate" id="0" name="Set speed" sid="6951424632505102" type="Flower">
                                            <param id="0" name="Speed">0</param>
                                        </action>
                                        <action id="4" name="Set at XYZ" sid="9456663907184277" type="NecklacesArray">
                                            <param id="0" name="X">0</param>
                                            <param id="1" name="Y">8</param>
                                            <param id="2" name="Z">Progress</param>
                                            <param id="3" name="Value">Flower.AnimationFrame</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="661991673874301" type="System">
                                            <param id="0" name="Variable">Progress</param>
                                            <param id="1" name="Value">Progress + 1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="7608742876380271">
                                            <conditions>
                                                <condition id="-13" name="Pick nth instance" sid="472339030100043" type="System">
                                                    <param id="0" name="Object">GenericFlower</param>
                                                    <param id="1" name="Instance">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Spawn another object" sid="6997011097684109" type="GenericFlower">
                                                    <param id="0" name="Object">Flower</param>
                                                    <param id="1" name="Layer">3</param>
                                                    <param id="2" name="Image point">0</param>
                                                </action>
                                                <action id="-9" name="Destroy" sid="959122414614342" type="GenericFlower" />
                                                <action id="9" name="Set scale" sid="4035969277116172" type="Flower">
                                                    <param id="0" name="Scale">0.35</param>
                                                </action>
                                                <action id="5" name="Set frame" sid="3927038571287535" type="Flower">
                                                    <param id="0" name="Frame number">NecklacesArray.At(0, 8, Progress - 1)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="8249321410820821">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="9536475045994048" type="System">
                                                    <param id="0" name="First value">Progress</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">PieceCount</param>
                                                </condition>
                                                <condition disabled="1" id="-8" name="Compare two values" sid="2144270699969007" type="System">
                                                    <param id="0" name="First value">Progress</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-16" name="Wait" sid="7554116912257387" type="System">
                                                    <param id="0" name="Seconds">0.6</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="2718778986277407" type="System">
                                                    <param id="0" name="Variable">LayoutToGoTo</param>
                                                    <param id="1" name="Value">&quot;Phase 2 - Create&quot;</param>
                                                </action>
                                                <action id="0" name="Call function" sid="7842549920785899" type="Function">
                                                    <param id="0" name="Name">&quot;FadeOut&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="3478578597288809">
                                    <conditions />
                                    <actions />
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>destroy flowers</comment>
                        <event-block sid="302097156090794">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="3771560806280744" type="System">
                                    <param id="0" name="Interval (seconds)">Game_SpawnInterval</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="9305974635879365" type="System">
                                    <param id="0" name="First value">Flower.Y</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                                <condition id="-4" name="Is outside layout" sid="4721625277808418" type="Flower" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="2144296039932683" type="Flower" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
