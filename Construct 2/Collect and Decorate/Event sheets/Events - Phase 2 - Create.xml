<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Events - Phase 2 - Create</name>
    <events>
        <include>Events - Common</include>
        <event-group description="" sid="4137865588677511" title="LAYOUT ROOT">
            <sub-events>
                <variable constant="0" name="CENTER_X" sid="3219718291974603" static="1" type="number">0</variable>
                <variable constant="0" name="CENTER_Y" sid="6802560652983374" static="1" type="number">0</variable>
                <variable constant="0" name="R" sid="1250391655452096" static="1" type="number">0</variable>
                <variable constant="1" name="POSITION_Y" sid="7039048524514207" static="1" type="number">200</variable>
                <variable constant="1" name="VISIBLE_ANGLE" sid="1147343489112532" static="1" type="number">40</variable>
                <variable constant="1" name="POSITIONING_DISTANCE" sid="2519607737337948" static="1" type="number">120</variable>
                <variable constant="0" name="CircleX" sid="5664118315396733" static="1" type="number">0</variable>
                <variable constant="0" name="CircleY" sid="7679215850877626" static="1" type="number">0</variable>
                <event-group description="" sid="7794063342821028" title="necklace setup, flower drag and drop">
                    <sub-events>
                        <event-block sid="6944167719422723">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="2451817903902349" type="System" />
                                <condition id="-10" name="For" sid="2852441251628923" type="System">
                                    <param id="0" name="Name">&quot;angle&quot;</param>
                                    <param id="1" name="Start index">90-VISIBLE_ANGLE/2</param>
                                    <param id="2" name="End index">90+VISIBLE_ANGLE/2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="9119203713341441" type="System">
                                    <param id="0" name="Variable">R</param>
                                    <param id="1" name="Value">abs((ViewportRight (0)- ViewportLeft(0)) / 2 / cos(90-VISIBLE_ANGLE/2))</param>
                                </action>
                                <action id="-9" name="Set value" sid="1522665260619179" type="System">
                                    <param id="0" name="Variable">CENTER_X</param>
                                    <param id="1" name="Value">LayoutWidth / 2</param>
                                </action>
                                <action id="-9" name="Set value" sid="6233656270218546" type="System">
                                    <param id="0" name="Variable">CENTER_Y</param>
                                    <param id="1" name="Value">ViewportTop(0) - R + POSITION_Y</param>
                                </action>
                                <action id="0" name="Call function" sid="2702737521522551" type="Function">
                                    <param id="0" name="Name">&quot;UpdateCircleXY&quot;</param>
                                    <param id="1" name="Parameter {n}">R{###}loopindex</param>
                                </action>
                                <action id="-3" name="Create object" sid="8893559101239566" type="System">
                                    <param id="0" name="Object to create">RedDot</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="X">CircleX</param>
                                    <param id="3" name="Y">CircleY</param>
                                </action>
                                <action id="-8" name="Set angle" sid="3146435746707184" type="RedDot">
                                    <param id="0" name="Angle">loopindex</param>
                                </action>
                                <action id="0" name="Call function" sid="6401354105353083" type="Function">
                                    <param id="0" name="Name">&quot;UpdateCircleXY&quot;</param>
                                    <param id="1" name="Parameter {n}">R + POSITIONING_DISTANCE{###}loopindex</param>
                                </action>
                                <action id="-3" name="Create object" sid="2721224230043301" type="System">
                                    <param id="0" name="Object to create">RedDot</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="X">CircleX</param>
                                    <param id="3" name="Y">CircleY</param>
                                </action>
                                <action id="-8" name="Set angle" sid="5690972141879994" type="RedDot">
                                    <param id="0" name="Angle">loopindex</param>
                                </action>
                                <action id="-16" name="Set opacity" sid="1577849246153844" type="RedDot">
                                    <param id="0" name="Opacity">10</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4013982847405576">
                            <conditions>
                                <condition behavior="DragDrop" id="0" name="Is dragging" sid="4307212809755078" type="Flower" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="3725350389971643">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="6540975687340696" type="System">
                                            <param id="0" name="First value">distance(CENTER_X, CENTER_Y, Flower.X, Flower.Y)</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">R + POSITIONING_DISTANCE</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-8" name="Set angle" sid="7041637424410707" type="Flower">
                                            <param id="0" name="Angle">angle(CENTER_X, CENTER_Y, Flower.X, Flower.Y)-90</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="7835786642350134" type="System">
                                            <param id="0" name="Variable">debug_line2</param>
                                            <param id="1" name="Value">Flower.Angle</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="5677188418114897">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="3097246737771131" type="System">
                                            <param id="0" name="First value">distance(CENTER_X, CENTER_Y, Flower.X, Flower.Y)</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">R</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="8254873340805901" type="Function">
                                            <param id="0" name="Name">&quot;UpdateCircleXY&quot;</param>
                                            <param id="1" name="Parameter {n}">R{###}Flower.Angle+90</param>
                                        </action>
                                        <action id="-3" name="Set position" sid="5754879303735921" type="Flower">
                                            <param id="0" name="X">CircleX</param>
                                            <param id="1" name="Y">CircleY</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="7988599145093152">
                            <conditions>
                                <condition behavior="DragDrop" id="2" name="On drop" sid="7736769868821621" type="Flower" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="142306823703036">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="5324632533072034" type="System">
                                            <param id="0" name="First value">distance(CENTER_X, CENTER_Y, Flower.X, Flower.Y)</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">R</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="1576234197413269" type="Function">
                                            <param id="0" name="Name">&quot;UpdateCircleXY&quot;</param>
                                            <param id="1" name="Parameter {n}">r{###}Flower.Angle+90</param>
                                        </action>
                                        <action id="-3" name="Set position" sid="7136734303591117" type="Flower">
                                            <param id="0" name="X">CircleX</param>
                                            <param id="1" name="Y">CircleY</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="6108021280259306">
                            <conditions>
                                <condition id="0" name="On function" sid="5059879892503378" type="Function">
                                    <param id="0" name="Name">&quot;UpdateCircleXY&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="6369028732026035" type="System">
                                    <param id="0" name="Variable">CircleX</param>
                                    <param id="1" name="Value">CENTER_X + Function.Param(0) * cos(Function.Param(1))</param>
                                </action>
                                <action id="-9" name="Set value" sid="4411156778236766" type="System">
                                    <param id="0" name="Variable">CircleY</param>
                                    <param id="1" name="Value">CENTER_Y + Function.Param(0) * sin(Function.Param(1))</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-block sid="6988080725979433">
                    <conditions>
                        <condition id="3" name="On touched object" sid="8074083497938671" type="Touch">
                            <param id="0" name="Object">UIButton</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="323402086084005" type="System">
                            <param id="0" name="Variable">debug_line2</param>
                            <param id="1" name="Value">UIButton.title</param>
                        </action>
                        <action id="-2" name="Go to layout" sid="8148440326543735" type="System">
                            <param id="0" name="Layout">Main</param>
                        </action>
                    </actions>
                </event-block>
                <event-group collapsed="1" description="" sid="373608831914356" title="dynamic flower positioning" />
                <event-block sid="5730033345963447">
                    <conditions>
                        <condition id="-33" name="Pick by comparison" sid="8010180756291331" type="System">
                            <param id="0" name="Object">Flower</param>
                            <param id="1" name="Expression">distance(Flower.X, Flower.Y, CENTER_X, CENTER_Y)</param>
                            <param id="2" name="Comparison">2</param>
                            <param id="3" name="Value">R+POSITIONING_DISTANCE</param>
                        </condition>
                        <condition id="-24" name="For Each (ordered)" sid="3159815390230754" type="System">
                            <param id="0" name="Object">Flower</param>
                            <param id="1" name="Expression">angle(CENTER_X, CENTER_Y, Flower.X, Flower.Y)</param>
                            <param id="2" name="Order">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="6124898038124564" type="Flower">
                            <param id="0" name="Opacity">10+15*loopindex</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
