<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Events - Phase 3 - Decorate</name>
    <events>
        <include>Events - Common</include>
        <event-group description="" sid="2988744877479891" title="LAYOUT ROOT">
            <sub-events>
                <variable constant="0" name="TickCountAtStartOfLayout" sid="6319678039979318" static="1" type="number">0</variable>
                <variable constant="0" name="FlowersCount" sid="7299355969258432" static="1" type="number">0</variable>
                <variable constant="0" name="PrevFlowerId" sid="9594445174543815" static="1" type="number">0</variable>
                <variable constant="0" name="CharacterY" sid="7411066512731502" static="1" type="number">0</variable>
                <variable constant="0" name="X1" sid="2419045926260417" static="1" type="number">0</variable>
                <variable constant="0" name="Y1" sid="6758413809096835" static="1" type="number">0</variable>
                <variable constant="0" name="X2" sid="1224730787601142" static="1" type="number">0</variable>
                <variable constant="0" name="Y2" sid="9252724733801837" static="1" type="number">0</variable>
                <variable constant="0" name="IsLeftInPosition" sid="1307290799437061" static="1" type="number">0</variable>
                <variable constant="0" name="IsRightInPosition" sid="4222785077851606" static="1" type="number">0</variable>
                <variable constant="0" name="TimeAtHandleFadeIn" sid="8563462258632146" static="1" type="number">0</variable>
                <event-block sid="3279056471687852">
                    <conditions />
                    <actions>
                        <action disabled="1" id="-9" name="Set value" sid="5043608733313885" type="System">
                            <param id="0" name="Variable">debug_line2</param>
                            <param id="1" name="Value">&quot;viewport (L:R, T:B): &quot; &amp; floor(ViewportLeft(0)) &amp; &quot;:&quot;  &amp; floor(ViewportRight(0)) &amp; &quot;, &quot; &amp; floor(ViewportTop(0)) &amp; &quot;:&quot;&amp; floor(ViewportBottom(0))</param>
                        </action>
                        <action disabled="1" id="-9" name="Set value" sid="7439481296731195" type="System">
                            <param id="0" name="Variable">debug_line3</param>
                            <param id="1" name="Value">&quot;window (w:h): &quot; &amp; floor(WindowWidth) &amp; &quot;:&quot;  &amp; floor(WindowHeight)</param>
                        </action>
                    </actions>
                </event-block>
                <event-group collapsed="1" description="" sid="3469279951967914" title="setup the layout">
                    <sub-events>
                        <event-block sid="9809400649618648">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="9736519629033493" type="System" />
                            </conditions>
                            <actions>
                                <action id="-22" name="Set layout angle" sid="3344406607112043" type="System">
                                    <param id="0" name="Angle">90</param>
                                </action>
                                <action id="-9" name="Set value" sid="86361725888015" type="System">
                                    <param id="0" name="Variable">TickCountAtStartOfLayout</param>
                                    <param id="1" name="Value">tickcount</param>
                                </action>
                                <action id="-3" name="Set position" sid="3315353643049802" type="Fader">
                                    <param id="0" name="X">-1000</param>
                                    <param id="1" name="Y">-1000</param>
                                </action>
                                <action id="-7" name="Set size" sid="9304454489538159" type="Fader">
                                    <param id="0" name="Width">3000</param>
                                    <param id="1" name="Height">3000</param>
                                </action>
                                <action id="-16" name="Set opacity" sid="7021647584817029" type="Fader">
                                    <param id="0" name="Opacity">100</param>
                                </action>
                                <action id="-26" name="Move to layer" sid="8186146733219269" type="Fader">
                                    <param id="0" name="Layer">100</param>
                                </action>
                                <action id="-24" name="Move to top" sid="4183019660494142" type="Fader" />
                                <action id="-12" name="Set group active" sid="7649605177375683" type="System">
                                    <param id="0" name="Group name">&quot;move the handles into position&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-12" name="Set group active" sid="5402060670422649" type="System">
                                    <param id="0" name="Group name">&quot;move the character into position&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-12" name="Set group active" sid="4943092271570999" type="System">
                                    <param id="0" name="Group name">&quot;move the handles into position2&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="2778966418257837" type="System">
                                    <param id="0" name="Variable">IsLeftInPosition</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="4200319565574839" type="System">
                                    <param id="0" name="Variable">IsRightInPosition</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5766139971758115">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="7039292422864937" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Set position" sid="7315557834670735" type="Bg_Phase3">
                                    <param id="0" name="X">ViewportLeft(0) + (ViewportRight(0) - ViewportLeft(0)) / 2 - Bg_Phase3.Width / 2</param>
                                    <param id="1" name="Y">ViewportBottom(0) + (ViewportTop(0) - ViewportBottom(0)) / 2 - Bg_Phase3.Height / 2</param>
                                </action>
                                <action id="-3" name="Set position" sid="5370653259484316" type="UI_WoodFence">
                                    <param id="0" name="X">ViewportLeft(0) + (ViewportRight(0) - ViewportLeft(0)) / 2</param>
                                    <param id="1" name="Y">ViewportBottom(0) - UI_WoodFence.Height / 2 + 30</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="7927766903011257" type="UI_WoodFence" />
                                <action id="-9" name="Set value" sid="2933371732894395" type="System">
                                    <param id="0" name="Variable">CharacterY</param>
                                    <param id="1" name="Value">ViewportBottom(0) - Character.Height / 2 - 150</param>
                                </action>
                                <action id="-3" name="Set position" sid="210243054585385" type="Character">
                                    <param id="0" name="X">ViewportLeft(0) + (ViewportRight(0) - ViewportLeft(0)) / 2</param>
                                    <param id="1" name="Y">ViewportBottom(0) + Character.Height / 2 - 150</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="134233793773651" type="Character" />
                                <action id="0" name="Call function" sid="8170140340169924" type="Function">
                                    <param id="0" name="Name">&quot;FadeIn&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="1191827078133442">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="2659154240458206" type="System">
                                            <param id="0" name="First value">WindowWidth / WindowHeight</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">1.4</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="9" name="Set scale" sid="5628936416744402" type="Character">
                                            <param id="0" name="Scale">0.9</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="3025298821567813" type="System">
                                            <param id="0" name="Variable">CharacterY</param>
                                            <param id="1" name="Value">CharacterY + 30</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="4316331318109791">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="2298268283834146" type="System">
                                            <param id="0" name="First value">WindowWidth / WindowHeight</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">1.6</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="9" name="Set scale" sid="3110537626139199" type="Character">
                                            <param id="0" name="Scale">0.95</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="4290604690317281" type="System">
                                            <param id="0" name="Variable">CharacterY</param>
                                            <param id="1" name="Value">CharacterY + 20</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="8385416434876928">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="4262395555220686" type="Button">
                                            <param id="0" name="Instance variable">action</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;Phase 2 - Create&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="9548684514088731" type="Button">
                                            <param id="0" name="X">ViewportLeft(0) + 70</param>
                                            <param id="1" name="Y">ViewportTop(0) + 70</param>
                                        </action>
                                        <action id="-24" name="Move to top" sid="9457882631241481" type="Button" />
                                    </actions>
                                </event-block>
                                <event-block sid="2912216819268154">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="4747216734786209" type="Button">
                                            <param id="0" name="Instance variable">action</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;Saves&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="5380311198070051" type="Button">
                                            <param id="0" name="X">ViewportRight(0) - 70</param>
                                            <param id="1" name="Y">ViewportTop(0) + 70</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="7328892116239223" type="Button">
                                            <param id="0" name="Instance variable">parameter</param>
                                            <param id="1" name="Value">Level</param>
                                        </action>
                                        <action id="-24" name="Move to top" sid="9514309116097915" type="Button" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <comment>for some reason, the physics joints don&apos;t work well when the pieces are arranged on a circle, so we arrange them in a straight line</comment>
                <event-group collapsed="1" description="" sid="4400270356835207" title="arrange the flowers in the neckalce">
                    <sub-events>
                        <variable constant="0" name="StartX" sid="3880459603791739" static="1" type="number">0</variable>
                        <variable constant="0" name="StartY" sid="9516740109418225" static="1" type="number">0</variable>
                        <variable constant="0" name="OffsetX" sid="2970032935541051" static="1" type="number">0</variable>
                        <variable constant="0" name="MinScale" sid="7179635873072381" static="1" type="number">0</variable>
                        <variable constant="0" name="MaxScale" sid="9818304363819659" static="1" type="number">0</variable>
                        <event-block sid="409180012291982">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="6553645331185703" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="5336258589552445" type="System">
                                    <param id="0" name="Variable">StartY</param>
                                    <param id="1" name="Value">ViewportBottom(0) + 100</param>
                                </action>
                                <action id="-9" name="Set value" sid="5643307687763573" type="System">
                                    <param id="0" name="Variable">CirclePieceScale</param>
                                    <param id="1" name="Value">Level = 1 ? 1.1 : Level = 2 ? 0.9 : 0.7</param>
                                </action>
                                <action id="-9" name="Set value" sid="258584316398847" type="System">
                                    <param id="0" name="Variable">MaxScale</param>
                                    <param id="1" name="Value">CirclePieceScale</param>
                                </action>
                                <action id="-9" name="Set value" sid="7965816166284464" type="System">
                                    <param id="0" name="Variable">MinScale</param>
                                    <param id="1" name="Value">CirclePieceScale * CirclePieceScaleAttenuation</param>
                                </action>
                                <action id="-9" name="Set value" sid="6229561213177158" type="System">
                                    <param id="0" name="Variable">FlowersCount</param>
                                    <param id="1" name="Value">Function.Call(&quot;NecklacePieceCount&quot;, Level, SaveSlot)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="7014517622640797">
                                    <conditions>
                                        <condition id="-10" name="For" sid="3082746535428171" type="System">
                                            <param id="0" name="Name">&quot;&quot;</param>
                                            <param id="1" name="Start index">1</param>
                                            <param id="2" name="End index">FlowersCount</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="834650229187708" type="System">
                                            <param id="0" name="Object to create">Flower</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">StartX</param>
                                            <param id="3" name="Y">StartY</param>
                                        </action>
                                        <action behavior="Bullet" id="5" name="Set enabled" sid="8340643653458692" type="Flower">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="5" name="Set frame" sid="9436128099243996" type="Flower">
                                            <param id="0" name="Frame number">NecklacesArray.At(Level, SaveSlot, loopindex - 1)</param>
                                        </action>
                                        <action id="9" name="Set scale" sid="4920803967578114" type="Flower">
                                            <param id="0" name="Scale">MinScale + int(FlowersCount / 2 - abs(loopindex - (FlowersCount + 1) / 2)) / (int(FlowersCount / 2) / (MaxScale - MinScale))</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <comment>create the left handle</comment>
                                        <event-block sid="5521111084713958">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="6048616226536811" type="System">
                                                    <param id="0" name="First value">loopindex</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Create object" sid="7385820670933109" type="System">
                                                    <param id="0" name="Object to create">Handle</param>
                                                    <param id="1" name="Layer">1</param>
                                                    <param id="2" name="X">StartX</param>
                                                    <param id="3" name="Y">StartY</param>
                                                </action>
                                                <action id="-1" name="Set X" sid="1028696709427027" type="Handle">
                                                    <param id="0" name="X">Flower.X - Flower.Width / 2 + Flower.Width * CirclePieceOverlapRatio - Handle.Width / 2 + Handle.Width * CirclePieceOverlapRatio</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="3324907066213274" type="System">
                                                    <param id="0" name="Variable">OffsetX</param>
                                                    <param id="1" name="Value">Handle.X</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="5679410162602916" type="Handle">
                                                    <param id="0" name="Instance variable">Side</param>
                                                    <param id="1" name="Value">&quot;left&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment>position the flowers</comment>
                                        <event-block sid="2080881523244351">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="7793842674130158" type="System">
                                                    <param id="0" name="First value">loopindex</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                                <condition id="-14" name="Pick by unique ID" sid="8476312808775534" type="Flowers">
                                                    <param id="0" name="Unique ID">PrevFlowerId</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="1431566387625203" type="Flower">
                                                    <param id="0" name="X">Flowers.X + Flowers.Width / 2 - Flowers.Width * CirclePieceOverlapRatio + Flower.Width / 2 - Flower.Width * CirclePieceOverlapRatio</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="6433516641560013">
                                            <conditions />
                                            <actions>
                                                <action id="-9" name="Set value" sid="1285376557461711" type="System">
                                                    <param id="0" name="Variable">PrevFlowerId</param>
                                                    <param id="1" name="Value">Flower.UID</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment>alternate flower z-index</comment>
                                        <event-block sid="2814104990791404">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="4438010711701454" type="System">
                                                    <param id="0" name="First value">(FlowersCount + 1) % 4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="1312330601167638">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="897902183936467" type="System">
                                                            <param id="0" name="First value">loopindex % 2</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-24" name="Move to top" sid="3855630747203119" type="Flower" />
                                                    </actions>
                                                </event-block>
                                                <event-block sid="8024224589392926">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="266320081429374" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="-25" name="Move to bottom" sid="5267155223865456" type="Flower" />
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="4522936833668648">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="5252866452181103" type="System" />
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="5593692342965862">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="5868887008193373" type="System">
                                                            <param id="0" name="First value">loopindex % 2</param>
                                                            <param id="1" name="Comparison">1</param>
                                                            <param id="2" name="Second value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-24" name="Move to top" sid="3203867173999908" type="Flower" />
                                                    </actions>
                                                </event-block>
                                                <event-block sid="5495084192163887">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="3494304268220528" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="-25" name="Move to bottom" sid="6583249729721025" type="Flower" />
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <comment>create the right handle</comment>
                                <event-block sid="4687575304755778">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="1911604165081956" type="Flowers">
                                            <param id="0" name="Unique ID">PrevFlowerId</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="2978320275460829" type="System">
                                            <param id="0" name="Object to create">Handle</param>
                                            <param id="1" name="Layer">1</param>
                                            <param id="2" name="X">StartX</param>
                                            <param id="3" name="Y">StartY</param>
                                        </action>
                                        <action id="-1" name="Set X" sid="2911675734485867" type="Handle">
                                            <param id="0" name="X">Flowers.X + Flowers.Width / 2 - Flowers.Width * CirclePieceOverlapRatio + Handle.Width / 2 - Handle.Width * CirclePieceOverlapRatio</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="1090972488579013" type="System">
                                            <param id="0" name="Variable">OffsetX</param>
                                            <param id="1" name="Value">(ViewportLeft(0) + (ViewportRight(0) - ViewportLeft(0)) / 2) - (OffsetX + (Handle.X - OffsetX) / 2)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="2689093459048546" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Value">&quot;right&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>center the necklace on the screen</comment>
                        <event-block sid="6784465003512577">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="911188075995719" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-24" name="Move to top" sid="7253577220754205" type="Fader" />
                            </actions>
                            <sub-events>
                                <event-block sid="7386821725464899">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="3807265376951332" type="System">
                                            <param id="0" name="Object">Flower</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-1" name="Set X" sid="8372932295548844" type="Flower">
                                            <param id="0" name="X">Flower.X + OffsetX</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="5916133201607468">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="1022727390224006" type="System">
                                            <param id="0" name="Object">Handle</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-1" name="Set X" sid="9576492126463489" type="Handle">
                                            <param id="0" name="X">Handle.X + OffsetX</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" disabled="1" sid="3046289762290443" title="create and arrange the necklace">
                    <sub-events>
                        <event-block sid="2977828189292429">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5385552805865859" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="353823167467365" type="System">
                                    <param id="0" name="Variable">StartAngleIndex</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="5014146240334026" type="System">
                                    <param id="0" name="Variable">CirclePieceScale</param>
                                    <param id="1" name="Value">Level = 1 ? 1.1 : Level = 2 ? 0.9 : 0.7</param>
                                </action>
                                <action disabled="1" id="-9" name="Set value" sid="3632487208521671" type="System">
                                    <param id="0" name="Variable">CirclePieceScale</param>
                                    <param id="1" name="Value">Level = 1 ? 0.55 : Level = 2 ? 0.45 : 0.35</param>
                                </action>
                                <action id="-9" name="Set value" sid="5805636307489523" type="System">
                                    <param id="0" name="Variable">CircleR</param>
                                    <param id="1" name="Value">1560</param>
                                </action>
                                <action id="-9" name="Set value" sid="7603072738384066" type="System">
                                    <param id="0" name="Variable">CircleCenterX</param>
                                    <param id="1" name="Value">ViewportLeft(0) + (ViewportRight(0) - ViewportLeft(0)) / 2</param>
                                </action>
                                <action id="-9" name="Set value" sid="6025068159584992" type="System">
                                    <param id="0" name="Variable">CircleCenterY</param>
                                    <param id="1" name="Value">ViewportBottom(0) - UI_WoodFence.Height - CircleR</param>
                                </action>
                                <action id="0" name="Call function" sid="6722795394317091" type="Function">
                                    <param id="0" name="Name">&quot;CreateNecklacePieces&quot;</param>
                                    <param id="1" name="Parameter {n}">Level{###}SaveSlot</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3689596173090578">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="8059015265281249" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="3225214729626252" type="System">
                                    <param id="0" name="Variable">StartAngleIndex</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="0" name="Call function" sid="5716588025492088" type="Function">
                                    <param id="0" name="Name">&quot;ArrangeNecklacePieces&quot;</param>
                                    <param id="1" name="Parameter {n}">Level{###}SaveSlot</param>
                                </action>
                                <action id="0" name="Call function" sid="16251271042161" type="Function">
                                    <param id="0" name="Name">&quot;SetOnCircleXY&quot;</param>
                                    <param id="1" name="Parameter {n}">NecklacesArray.At(0, 9, 0) + 2</param>
                                </action>
                                <action id="-3" name="Create object" sid="4582087858696832" type="System">
                                    <param id="0" name="Object to create">Handle</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="X">OnCircleX + CircleCenterX</param>
                                    <param id="3" name="Y">OnCircleY + CircleCenterY</param>
                                </action>
                                <action id="0" name="Call function" sid="6013110595340707" type="Function">
                                    <param id="0" name="Name">&quot;SetOnCircleXY&quot;</param>
                                    <param id="1" name="Parameter {n}">90 - (NecklacesArray.At(0, 9, 0) - 90) - 2</param>
                                </action>
                                <action id="-3" name="Create object" sid="9836552959032265" type="System">
                                    <param id="0" name="Object to create">Handle</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="X">OnCircleX + CircleCenterX</param>
                                    <param id="3" name="Y">OnCircleY + CircleCenterY</param>
                                </action>
                                <action id="-24" name="Move to top" sid="6430435438964531" type="Fader" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="3376336338478309" title="setup the physics joints">
                    <sub-events>
                        <comment>setup physics</comment>
                        <event-block sid="7232490483244657">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="2315265833842511" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Physics" id="12" name="Set world gravity" sid="1413495250168705" type="Handle">
                                    <param id="0" name="Gravity">0.1</param>
                                </action>
                                <action behavior="Physics" id="27" name="Set enabled" sid="4723768118030324" type="Flower">
                                    <param id="0" name="Mode">1</param>
                                </action>
                                <action behavior="Physics" id="23" name="Enable/disable collisions" sid="6527888485940189" type="Flower">
                                    <param id="0" name="Object">Flower</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action behavior="Physics" id="23" name="Enable/disable collisions" sid="281679327512777" type="Flower">
                                    <param id="0" name="Object">Handle</param>
                                    <param id="1" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>connect the handles and flowers</comment>
                        <event-block sid="9429585468775893">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5663863042718579" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+3</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Physics" id="12" name="Set world gravity" sid="8674931364467533" type="Handle">
                                    <param id="0" name="Gravity">20</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="8622399581451">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="5852725855907303" type="System">
                                            <param id="0" name="Object">Flower</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="1385101807232099">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="8216741795881552" type="System">
                                                    <param id="0" name="First value">loopindex</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="4709562870545281" type="Handle">
                                                    <param id="0" name="Instance variable">Side</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;left&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Physics" id="11" name="Create revolute joint" sid="6349343316790178" type="Handle">
                                                    <param id="0" name="This image point">0</param>
                                                    <param id="1" name="Object">Flower</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="4950446967196114">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="2711927673509684" type="System">
                                                    <param id="0" name="First value">loopindex</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                                <condition id="-14" name="Pick by unique ID" sid="4556595268196246" type="Flowers">
                                                    <param id="0" name="Unique ID">PrevFlowerId</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Physics" id="22" name="Create limited revolute joint" sid="3040171239691541" type="Flower">
                                                    <param id="0" name="This image point">&quot;left&quot;</param>
                                                    <param id="1" name="Object">Flowers</param>
                                                    <param id="2" name="Lower angle">-10</param>
                                                    <param id="3" name="Upper angle">25</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="9192473944810401">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="5595482088044314" type="System">
                                                    <param id="0" name="First value">loopindex</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">FlowersCount-1</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="5228405110971578" type="Handle">
                                                    <param id="0" name="Instance variable">Side</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;right&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Physics" id="11" name="Create revolute joint" sid="2294649516096184" type="Handle">
                                                    <param id="0" name="This image point">0</param>
                                                    <param id="1" name="Object">Flower</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="9515931224848708">
                                            <conditions />
                                            <actions>
                                                <action id="-9" name="Set value" sid="7568188780362758" type="System">
                                                    <param id="0" name="Variable">PrevFlowerId</param>
                                                    <param id="1" name="Value">Flower.UID</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="595622332922734" title="move the character into position">
                    <sub-events>
                        <event-block sid="1587002995731614">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="8938904477224059" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+3</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="6980418064717891" type="Character">
                                    <param id="0" name="Angle">270</param>
                                </action>
                                <action behavior="Bullet" id="5" name="Set enabled" sid="1527996438541899" type="Character">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5262310812228384">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="2763513256235143" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="8517819617668226">
                                    <conditions>
                                        <condition id="-2" name="Compare Y" sid="2547927918048984" type="Character">
                                            <param id="0" name="Comparison">3</param>
                                            <param id="1" name="Y co-ordinate">CharacterY</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="5" name="Set enabled" sid="8407514532615385" type="Character">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="6953242808325909" type="System">
                                            <param id="0" name="Group name">&quot;move the character into position&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" disabled="1" sid="6533379670995727" title="move the handles into position">
                    <sub-events>
                        <event-block sid="1587002995731614">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="8938904477224059" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+3</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="8597674154351067" type="System">
                                    <param id="0" name="Variable">debug_line1</param>
                                    <param id="1" name="Value">&quot;Level: &quot; &amp; Level &amp; &quot;; Saveslot: &quot; &amp; SaveSlot</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="9986930557282657">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1193877700082118" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;left&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="321108423479926" type="Handle">
                                            <param id="0" name="Angle">0</param>
                                        </action>
                                        <action behavior="Bullet" id="5" name="Set enabled" sid="8589340630156767" type="Handle">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="9510480526932673">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="9317944053384341" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;right&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="2969944980477153" type="Handle">
                                            <param id="0" name="Angle">180</param>
                                        </action>
                                        <action behavior="Bullet" id="5" name="Set enabled" sid="5482239200784036" type="Handle">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="5262310812228384">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="2763513256235143" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="7851822679210855">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1552441856188867" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;left&quot;</param>
                                        </condition>
                                        <condition id="-1" name="Compare X" sid="4941463480309568" type="Handle">
                                            <param id="0" name="Comparison">5</param>
                                            <param id="1" name="X co-ordinate">ViewportLeft(0) + Handle.Width</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="9036395722968131">
                                            <conditions>
                                                <condition id="-19" name="Pick all" sid="2187729304200129" type="System">
                                                    <param id="0" name="Object">Handle</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="396642049852921" type="Handle">
                                                    <param id="0" name="Angle">270</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="9064528989072857">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="551148062396179" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;left&quot;</param>
                                        </condition>
                                        <condition id="-2" name="Compare Y" sid="5119458268960172" type="Handle">
                                            <param id="0" name="Comparison">3</param>
                                            <param id="1" name="Y co-ordinate">ViewportBottom(0) - 220</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="461654161648935">
                                            <conditions>
                                                <condition id="-19" name="Pick all" sid="5691145506075402" type="System">
                                                    <param id="0" name="Object">Handle</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Bullet" id="5" name="Set enabled" sid="8017594542060132" type="Handle">
                                                    <param id="0" name="State">0</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="8181100972104321" type="System">
                                                    <param id="0" name="Variable">TimeAtHandleFadeIn</param>
                                                    <param id="1" name="Value">wallclocktime + 2</param>
                                                </action>
                                                <action id="-12" name="Set group active" sid="2701790196499014" type="System">
                                                    <param id="0" name="Group name">&quot;move the handles into position&quot;</param>
                                                    <param id="1" name="State">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="1343286685040715" title="move the handles into position2">
                    <sub-events>
                        <event-block sid="1587002995731614">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="8938904477224059" type="System">
                                    <param id="0" name="First value">tickcount</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">TickCountAtStartOfLayout+3</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="1836035592709725">
                                    <conditions>
                                        <condition id="2" name="Compare at XYZ" sid="1281454848359809" type="NecklacesArray">
                                            <param id="0" name="X">Level</param>
                                            <param id="1" name="Y">SaveSlot</param>
                                            <param id="2" name="Z">15</param>
                                            <param id="3" name="Comparison">0</param>
                                            <param id="4" name="Value">-1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="2016968605808807" type="System">
                                            <param id="0" name="Variable">X1</param>
                                            <param id="1" name="Value">ViewportLeft(0) + 100</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="3463619197551732" type="System">
                                            <param id="0" name="Variable">Y1</param>
                                            <param id="1" name="Value">ViewportBottom(0) - 220</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="4721294369715658" type="System">
                                            <param id="0" name="Variable">X2</param>
                                            <param id="1" name="Value">ViewportRight(0) - 100</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="5482357210681356" type="System">
                                            <param id="0" name="Variable">Y2</param>
                                            <param id="1" name="Value">ViewportBottom(0) - 220</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="7329902689109361">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="723652627134066" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="8965403684818437" type="System">
                                            <param id="0" name="Variable">X1</param>
                                            <param id="1" name="Value">NecklacesArray.At(Level, SaveSlot, 15)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="9394744605271762" type="System">
                                            <param id="0" name="Variable">Y1</param>
                                            <param id="1" name="Value">NecklacesArray.At(Level, SaveSlot, 16)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="6595289281432407" type="System">
                                            <param id="0" name="Variable">X2</param>
                                            <param id="1" name="Value">NecklacesArray.At(Level, SaveSlot, 17)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="1369206230502912" type="System">
                                            <param id="0" name="Variable">Y2</param>
                                            <param id="1" name="Value">NecklacesArray.At(Level, SaveSlot, 18)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="9986930557282657">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1193877700082118" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;left&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="321108423479926" type="Handle">
                                            <param id="0" name="Angle">angle(Handle.X, Handle.Y, X1, Y1)</param>
                                        </action>
                                        <action behavior="Bullet" id="5" name="Set enabled" sid="8589340630156767" type="Handle">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="DragDrop" id="0" name="Set enabled" sid="4185717518765042" type="Handle">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="9510480526932673">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="9317944053384341" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;right&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="2669491269509853" type="Handle">
                                            <param id="0" name="Angle">angle(Handle.X, Handle.Y, X2, Y2)</param>
                                        </action>
                                        <action behavior="Bullet" id="5" name="Set enabled" sid="5482239200784036" type="Handle">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="DragDrop" id="0" name="Set enabled" sid="5008730696552844" type="Handle">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="5262310812228384">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="2763513256235143" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="7851822679210855">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1552441856188867" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;left&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="2998170319178734">
                                            <conditions>
                                                <condition id="-1" name="Compare X" sid="4941463480309568" type="Handle">
                                                    <param id="0" name="Comparison">5</param>
                                                    <param id="1" name="X co-ordinate">X1</param>
                                                </condition>
                                                <condition id="-2" name="Compare Y" sid="7230183559446442" type="Handle">
                                                    <param id="0" name="Comparison">3</param>
                                                    <param id="1" name="Y co-ordinate">Y1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Bullet" id="5" name="Set enabled" sid="8017594542060132" type="Handle">
                                                    <param id="0" name="State">0</param>
                                                </action>
                                                <action behavior="DragDrop" id="0" name="Set enabled" sid="4979649620523605" type="Handle">
                                                    <param id="0" name="State">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="1611779118001114" type="System">
                                                    <param id="0" name="Variable">IsLeftInPosition</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="371778102429434">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="5454012661146353" type="Handle">
                                            <param id="0" name="Instance variable">Side</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;right&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="8667306370635578">
                                            <conditions>
                                                <condition id="-1" name="Compare X" sid="7772217414693746" type="Handle">
                                                    <param id="0" name="Comparison">3</param>
                                                    <param id="1" name="X co-ordinate">X2</param>
                                                </condition>
                                                <condition id="-2" name="Compare Y" sid="6171781922116728" type="Handle">
                                                    <param id="0" name="Comparison">3</param>
                                                    <param id="1" name="Y co-ordinate">Y2</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Bullet" id="5" name="Set enabled" sid="3217825097371004" type="Handle">
                                                    <param id="0" name="State">0</param>
                                                </action>
                                                <action behavior="DragDrop" id="0" name="Set enabled" sid="579220191822626" type="Handle">
                                                    <param id="0" name="State">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="9998810356105514" type="System">
                                                    <param id="0" name="Variable">IsRightInPosition</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="9064528989072857">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="3619071705915126" type="System">
                                            <param id="0" name="Variable">IsLeftInPosition</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="12067391814361" type="System">
                                            <param id="0" name="Variable">IsRightInPosition</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="8181100972104321" type="System">
                                            <param id="0" name="Variable">TimeAtHandleFadeIn</param>
                                            <param id="1" name="Value">wallclocktime - 0</param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="2701790196499014" type="System">
                                            <param id="0" name="Group name">&quot;move the handles into position2&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="6927901513503552" title="fade in / fade out handles">
                    <sub-events>
                        <variable constant="0" name="Opacity" sid="7987407839090799" static="1" type="number">100</variable>
                        <event-block sid="1587002995731614">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="8437649748045722" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="2632546360798321" type="System">
                                    <param id="0" name="Variable">TimeAtHandleFadeIn</param>
                                    <param id="1" name="Value">wallclocktime + 100</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7983755140944156">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="549656113840888" type="System">
                                    <param id="0" name="First value">wallclocktime</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">TimeAtHandleFadeIn + 1.5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Set group active" sid="903965047226954" type="System">
                                    <param id="0" name="Group name">&quot;handle fade-out&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-12" name="Set group active" sid="123590839592741" type="System">
                                    <param id="0" name="Group name">&quot;handle fade-in&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3711465372899187">
                            <conditions>
                                <condition id="2" name="Is in touch" sid="1731057605736911" type="Touch" />
                            </conditions>
                            <actions>
                                <action id="-12" name="Set group active" sid="9401302161415244" type="System">
                                    <param id="0" name="Group name">&quot;handle fade-in&quot;</param>
                                    <param id="1" name="State">1</param>
                                </action>
                                <action id="-12" name="Set group active" sid="3205242717822072" type="System">
                                    <param id="0" name="Group name">&quot;handle fade-out&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="4723108266007003" type="System">
                                    <param id="0" name="Variable">TimeAtHandleFadeIn</param>
                                    <param id="1" name="Value">wallclocktime</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-group description="" inactive="1" sid="2398582026417991" title="handle fade-in">
                            <sub-events>
                                <event-block sid="9183690711023468">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="4840329476904699" type="System">
                                            <param id="0" name="Variable">Opacity</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">100</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="5411782769634303" type="System">
                                            <param id="0" name="Variable">Opacity</param>
                                            <param id="1" name="Value">Opacity + 500 * dt</param>
                                        </action>
                                        <action id="-16" name="Set opacity" sid="9486835571929861" type="Handle">
                                            <param id="0" name="Opacity">Opacity</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="8838734372124194">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="6753594219989205" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="7425604450834878" type="System">
                                            <param id="0" name="Variable">Opacity</param>
                                            <param id="1" name="Value">100</param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="5586247380816756" type="System">
                                            <param id="0" name="Group name">&quot;handle fade-in&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" inactive="1" sid="4789961066587523" title="handle fade-out">
                            <sub-events>
                                <event-block sid="9183690711023468">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="8774889065877296" type="System">
                                            <param id="0" name="Variable">Opacity</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="3683648782151154" type="System">
                                            <param id="0" name="Variable">Opacity</param>
                                            <param id="1" name="Value">Opacity - 100 * dt</param>
                                        </action>
                                        <action id="-16" name="Set opacity" sid="9486835571929861" type="Handle">
                                            <param id="0" name="Opacity">Opacity</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="8838734372124194">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="6753594219989205" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="494725056586089" type="System">
                                            <param id="0" name="Variable">Opacity</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="5586247380816756" type="System">
                                            <param id="0" name="Group name">&quot;handle fade-out&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="9832250702802925" title="save necklace position">
                    <sub-events>
                        <event-block sid="5312625129305269">
                            <conditions>
                                <condition id="3" name="On touched object" sid="7870446715254294" type="Touch">
                                    <param id="0" name="Object">Button</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="3817071419424327" type="System">
                                    <param id="0" name="Variable">LayoutState</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">LAYOUTSTATE_READY</param>
                                </condition>
                                <condition id="-9" name="Is visible" sid="8447963101130995" type="Button" />
                                <condition id="12" inverted="1" name="Has Nth touch" sid="5524092713598744" type="Touch">
                                    <param id="0" name="Touch number">1</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="1762979953499495" type="System">
                                    <param id="0" name="Variable">IsLeftInPosition</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="4793955584367456" type="System">
                                    <param id="0" name="Variable">IsRightInPosition</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="43313294663408">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="2081944539065481" type="System">
                                            <param id="0" name="First value">Button.action</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;Saves&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="423958462287063">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="4378730654047835" type="Handle">
                                                    <param id="0" name="Instance variable">Side</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;left&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set at XYZ" sid="4393237121409612" type="NecklacesArray">
                                                    <param id="0" name="X">Level</param>
                                                    <param id="1" name="Y">SaveSlot</param>
                                                    <param id="2" name="Z">15</param>
                                                    <param id="3" name="Value">Handle.X</param>
                                                </action>
                                                <action id="4" name="Set at XYZ" sid="5388669078395102" type="NecklacesArray">
                                                    <param id="0" name="X">Level</param>
                                                    <param id="1" name="Y">SaveSlot</param>
                                                    <param id="2" name="Z">16</param>
                                                    <param id="3" name="Value">Handle.Y</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="5149747103532889">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="1312507732362719" type="Handle">
                                                    <param id="0" name="Instance variable">Side</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;right&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="4" name="Set at XYZ" sid="5760876033180469" type="NecklacesArray">
                                                    <param id="0" name="X">Level</param>
                                                    <param id="1" name="Y">SaveSlot</param>
                                                    <param id="2" name="Z">17</param>
                                                    <param id="3" name="Value">Handle.X</param>
                                                </action>
                                                <action id="4" name="Set at XYZ" sid="6647601199480826" type="NecklacesArray">
                                                    <param id="0" name="X">Level</param>
                                                    <param id="1" name="Y">SaveSlot</param>
                                                    <param id="2" name="Z">18</param>
                                                    <param id="3" name="Value">Handle.Y</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="8910547230785886">
                                            <conditions />
                                            <actions>
                                                <action id="0" name="Call function" sid="7929747548456837" type="Function">
                                                    <param id="0" name="Name">&quot;SaveNecklacesArray&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
